{% extends "base.html" %}

	 <script>
			$(function(){
				$("#submissionsPage").load(function(){
					 $.get("/submissions",{},function(){
				   });
				});
			});
	</script>

{%block navbar%}
<a class="navbar-brand">
Score: <span v-text="score.total"></span>
<span class="glyphicon glyphicon-saved" aria-hidden="true"></span> {{score}}  &nbsp;&nbsp;&nbsp;&nbsp;
</a>
<a class="navbar-brand">
Rank: <span v-text="score.rank"></span>
<span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> {{rank}}  &nbsp;&nbsp;&nbsp;&nbsp;
</a>
<div class="navbar-header">
     <button class="btn-warning btn active navbar-btn nav-right nav-brand">
        <a href="loginform.html" style="text-decoration:none;color:#FFFFFF">Resign
      	<span class="glyphicon glyphicon-pencil" aria-hidden="true"> </span>  </a>
      </button>&nbsp;&nbsp;&nbsp;&nbsp;  
 </div>              
{%endblock%}

{% block content %}
	<div class="container">
       <div class="row" id="homePage">
          <div class="col-sm-6">
			 <h2>Your Programs</h2>
             		<div class="nav navbar navbar-default">
                        <p class="navbar-text">Search <span class="glyphicon glyphicon-search" aria-hidden="true"></span></p>
                        <form class="navbar-form navbar-left">
                            <div class="form-group col-md-8">
                                <input type="text" class="form-control" placeholder="Program Id"  v-model="searchText" />
                            </div>
                        </form>
                     </div>
                    <table class="table table-hover table-bordered">
                            <tr>
                                <th>Program Id</th>
                                <th>Status</th>
                                <th>Nor Of Attempts</th>
                                <th>Score</th>
                            </tr>
                            <tr v-repeat="users | filterBy searchText in user_name | orderBy 'total' -1">
                                <td v-text=""></td>
                                <td v-text="username.score"></td>  
                                <td v-text="$index+1"></td>
                                <td v-text="score"></td>
                            </tr>
                        </table>
		   </div>
         <div class="col-sm-6" >
            <h2>Leaderboard</h2>
               <div id="leaderboard">
                     <div class="nav navbar navbar-default">
                        <p class="navbar-text">Search <span class="glyphicon glyphicon-search" aria-hidden="true"></span></p>
                        <form class="navbar-form navbar-left">
                            <div class="form-group col-md-8">
                                <input type="text" class="form-control" placeholder="Username"  v-model="searchText" />
                            </div>
                        </form>
                     </div>
                        <table class="table table-hover table-bordered">
                            <tr>
                                <th>Name</th>
                                <th>Score</th>
                                <th>Rank</th>
                            </tr>
                            <tr v-repeat="username | filterBy searchText in username | orderBy 'total' -1">
                                <td v-text="username"></td>
                                <td v-text="username.score"></td>  
                                <td v-text="$index+1"></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
         <div class="page" id="submissionsPage">
                <h2>Submissions</h2>
                <div class="container" id="submissions">
                    <ul v-repeat="submissions" class="list-group">
                        <li class="list-group-item">
                            <div>Program:<span v-text="program"></span></div>
                            <div>Program result:<span v-text="program_result"></span></div>
                            <div>Test case result:</div>
                            <pre v-text="test_case_result"></pre>
                        </li>
                    </ul>
                </div>
            </div>
	</div>
{% endblock %}