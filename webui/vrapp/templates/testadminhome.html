{% extends "base.html" %}

{%block navbar%}
     
      <div class="navbar-header">
   				 <button id="start" class="btn btn-success active navbar-btn nav-right nav-brand" >
  				 Start  <span class="glyphicon glyphicon-play-circle" aria-hidden="true"> </span> 
   				</button> 	           
		         <button onclick="testStop()" id="stop" class="btn btn-danger btn-active" disabled>
				 Stop <span class="glyphicon glyphicon-stop" aria-hidden="true"> </span> 
				 </button>&nbsp;&nbsp;
           </div>
     
{%endblock%}

{% block content %}

    <script>
    function testStop() {
        document.getElementById("stop").disabled = true;
        document.getElementById("start").disabled = false;
    }
    </script>
    <script>
			$(function(){
				$("#start").click(function(){
					$.get("/puppetrun", {cn:'{{cname}}'}, function(data){
						$("#output").html("Puppet started with process id " + data);
						 document.getElementById("start").disabled = true;
        				 document.getElementById("stop").disabled = false;
					});
				})
			})
	</script>
	<div class="container" id="main-container">
        <div class="page" id="homePage">
          	<div><b id="output"></b></div>
			<h2>Leaderboard</h2>
               <div id="leaderboard">
                     <div class="nav navbar navbar-default">
                        <p class="navbar-text">Search <span class="glyphicon glyphicon-search" aria-hidden="true"></span></p>
                        <form class="navbar-form navbar-left">
                            <div class="form-group col-md-8">
                                <input type="text" class="form-control" placeholder="Username"  v-model="searchText" />
                            </div>
                        </form>
                     </div>
                        <table class="table table-hover table-bordered">
                            <tr>
                            	<th>User Name</th>
                                <th>Name</th>
                                <th>Nor Of Programs Done</th>
                                <th>Nor Of Submissions Made</th>
                                <th>Cheater Indications</th>
                                <th>Score</th>
                                <th>Rank</th>
                                <th>Action</th>
                            </tr>
                            <tr v-repeat="users | filterBy searchText in user_name | orderBy 'total' -1">
                                <td v-text="username"></td>
                                <td v-text="username.score"></td>  
                                <td v-text="$index+1"></td>
                                <td v-text="$index+1"></td>
                                <td v-text="$index+1"></td>
                                <td v-text="$index+1"></td>
                                <td v-text="$index+1"></td>
                                <td align="center">
                                <form method="post" action="#deletingfunction">
                                    <button class="btn btn-danger btn-sm">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"> </span>
                                    </button>
                                </form>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
		</div>
	</div>
{% endblock %}