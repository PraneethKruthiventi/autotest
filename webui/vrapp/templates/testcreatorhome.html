{% extends "base.html" %}

{%block navbar%}
<div class="navbar-header">
     <button class="btn btn-info active navbar-btn nav-right nav-brand">
       <a href="#addingpage" v-on="click: addingpage" style="text-decoration:none;color:#FFFFFF">  {{ date }} 
         <span class="glyphicon glyphicon-calendar" aria-hidden="true"> </span></a> 
     </button>&nbsp;&nbsp;&nbsp;&nbsp;
 </div>              
{%endblock%}

{% block content %}
<script>
			$(function(){	
				$("#questionForm").submit(function(event){
				event.preventDefault();
				data=[];
				for(i in cq) {
					if(cq[i].checked) {
						data.push(cq[i].value);
					}
				}
				console.log(data);
			    	$.get("/createquestionpaper", {names:JSON.stringify(data)}, function(data){
						$("#output").html(data);
					});
				});
			});
	</script>    
      						    
<div class="container" id="main-container">
        <div class="page" id="homePage">
			<h2>Questions Available</h2>
               <div id="leaderboard">
                     <div class="nav navbar navbar-default">
                        <p class="navbar-text">Search <span class="glyphicon glyphicon-search" aria-hidden="true"></span></p>
                        <form class="navbar-form navbar-left">
                            <div class="form-group col-md-8">
                                <input type="text" class="form-control" placeholder="Question Name"  v-model="searchText" />
                            </div>
                        </form>
                     </div>
                     <div id="output"></div>
                    <form id="questionForm">
                        <table class="table table-hover table-bordered">
                            <tr>
                            	<th>Question Name</th>
                                <th>Description</th>
                                <th>Question Type</th>
                                <th>Difficulty Level</th>
                                <th>Marks</th>
                                <th>Partial Scoring</th>
                                <th>Select</th>
                            </tr>
			  	 {% for p in problems %}
                            <tr v-repeat="problems | filterBy searchText in problems.description | orderBy 'total' -1">
                                <td>{{p.description}}</td>
                                <td>{{p.description}}</td>
                                <td>{{p.qtype}}</td>
                                <td>{{p.difficultylevel}}</td>
                                <td>{{p.score}}</td>
                                <td>
                                <input type="radio" id="pscore" name="ps" value={{p.description}} />
                                </td>
                                <td align="center" class="input-group input-group-addon">
                                <input type="checkbox" id="cq" name="cq" value={{p.description}} />
                                </td>
                            </tr>
		           {% endfor %}
                        </table>
                        <input type="submit"  class="btn btn-primary" value="Create" id="btntest" />&nbsp;&nbsp;
                    	<input type="reset"  class="btn btn-primary" value="Reset" />
                   	    </form>
                    </div>
                </div>
		</div>
</div>
{% endblock %}

